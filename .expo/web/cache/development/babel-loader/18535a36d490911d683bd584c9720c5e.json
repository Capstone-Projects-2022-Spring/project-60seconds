{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport styles from \"../App.style\";\nimport axios from \"axios\";\nimport PlayButton from \"./playbutton\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\naxios.defaults.withCredentials = true;\nexport default function Day(_ref) {\n  var parentToChild = _ref.parentToChild;\n  var username;\n  var selectedDateString = parentToChild.getFullYear() + '-' + (parentToChild.getMonth() + 1) + '-' + parentToChild.getDate();\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var parentToChild2 = function parentToChild2(linkToSet) {\n    setData(linkToSet.toString());\n  };\n\n  axios.get('https://api.60seconds.io/api/user').then(function (response) {\n    username = response.data.username;\n    axios.get('https://api.60seconds.io/api/get_links', {\n      params: {\n        username: username,\n        date: selectedDateString\n      }\n    }).then(function (response) {\n      if (response.data.length == 0) {\n        parentToChild2('No recordings made this day.');\n      } else {\n        parentToChild2(response.data[response.data.length - 1].link);\n      }\n    }).catch(function (error) {\n      console.log(error);\n    });\n  });\n  return _jsx(\"div\", {\n    className: \"dayBox\",\n    children: _jsxs(View, {\n      style: styles.dayBox,\n      children: [_jsx(\"h3\", {\n        children: parentToChild.toDateString()\n      }), _jsx(PlayButton, {\n        parentToChild2: data\n      })]\n    })\n  });\n}","map":{"version":3,"sources":["C:/Users/Sam Sepial/WebstormProjects/project-60seconds/components/day.js"],"names":["React","useState","styles","axios","PlayButton","defaults","withCredentials","Day","parentToChild","username","selectedDateString","getFullYear","getMonth","getDate","data","setData","parentToChild2","linkToSet","toString","get","then","response","params","date","length","link","catch","error","console","log","dayBox","toDateString"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;;AAEA,OAAOC,MAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP;;;AAEAD,KAAK,CAACE,QAAN,CAAeC,eAAf,GAAiC,IAAjC;AAEA,eAAe,SAASC,GAAT,OAA8B;AAAA,MAAhBC,aAAgB,QAAhBA,aAAgB;AACzC,MAAIC,QAAJ;AAEA,MAAIC,kBAAkB,GAAGF,aAAa,CAACG,WAAd,KAA8B,GAA9B,IAAqCH,aAAa,CAACI,QAAd,KAAyB,CAA9D,IAAmE,GAAnE,GAAyEJ,aAAa,CAACK,OAAd,EAAlG;;AAEA,kBAAwBZ,QAAQ,CAAC,EAAD,CAAhC;AAAA;AAAA,MAAOa,IAAP;AAAA,MAAaC,OAAb;;AAEA,MAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACC,SAAD,EAAe;AACpCF,IAAAA,OAAO,CAACE,SAAS,CAACC,QAAV,EAAD,CAAP;AACD,GAFD;;AAIAf,EAAAA,KAAK,CAACgB,GAAN,CAAU,mCAAV,EAA+CC,IAA/C,CAAoD,UAASC,QAAT,EAAmB;AACrEZ,IAAAA,QAAQ,GAAGY,QAAQ,CAACP,IAAT,CAAcL,QAAzB;AAEAN,IAAAA,KAAK,CAACgB,GAAN,CAAU,wCAAV,EAAoD;AAChDG,MAAAA,MAAM,EAAE;AACNb,QAAAA,QAAQ,EAAEA,QADJ;AAENc,QAAAA,IAAI,EAAEb;AAFA;AADwC,KAApD,EAKKU,IALL,CAKU,UAAUC,QAAV,EAAoB;AAE1B,UAAGA,QAAQ,CAACP,IAAT,CAAcU,MAAd,IAAwB,CAA3B,EAA6B;AAC3BR,QAAAA,cAAc,CAAC,8BAAD,CAAd;AACD,OAFD,MAEO;AAELA,QAAAA,cAAc,CAACK,QAAQ,CAACP,IAAT,CAAcO,QAAQ,CAACP,IAAT,CAAcU,MAAd,GAAuB,CAArC,EAAwCC,IAAzC,CAAd;AACD;AACF,KAbH,EAaKC,KAbL,CAaW,UAAUC,KAAV,EAAiB;AACxBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,KAfH;AAiBD,GApBD;AAwBA,SACI;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA,cACI,MAAC,IAAD;AAAM,MAAA,KAAK,EAAEzB,MAAM,CAAC4B,MAApB;AAAA,iBACI;AAAA,kBAAKtB,aAAa,CAACuB,YAAd;AAAL,QADJ,EAEI,KAAC,UAAD;AAAY,QAAA,cAAc,EAAEjB;AAA5B,QAFJ;AAAA;AADJ,IADJ;AAQH","sourcesContent":["import React, {useState} from \"react\";\r\nimport { View } from 'react-native';\r\nimport styles from '../App.style';\r\nimport axios from \"axios\";\r\nimport PlayButton from './playbutton';\r\n\r\naxios.defaults.withCredentials = true;\r\n\r\nexport default function Day({parentToChild}) {\r\n    let username;\r\n\r\n    let selectedDateString = parentToChild.getFullYear() + '-' + (parentToChild.getMonth()+1) + '-' + parentToChild.getDate();\r\n    //console.log(selectedDateString);\r\n    const [data, setData] = useState('');\r\n\r\n    const parentToChild2 = (linkToSet) => {\r\n      setData(linkToSet.toString());\r\n    }\r\n\r\n    axios.get('https://api.60seconds.io/api/user').then(function(response) {\r\n      username = response.data.username;\r\n\r\n      axios.get('https://api.60seconds.io/api/get_links', {\r\n          params: {\r\n            username: username,\r\n            date: selectedDateString\r\n          }\r\n        }).then(function (response) {\r\n          //console.log(response.data);\r\n          if(response.data.length == 0){\r\n            parentToChild2('No recordings made this day.');\r\n          } else {\r\n            //for milestone demo 2, it plays the most recent recording returned from the query\r\n            parentToChild2(response.data[response.data.length - 1].link);\r\n          }\r\n        }).catch(function (error) {\r\n          console.log(error);\r\n        });\r\n\r\n    });\r\n\r\n\r\n\r\n    return(\r\n        <div className=\"dayBox\">\r\n            <View style={styles.dayBox}>\r\n                <h3>{parentToChild.toDateString()}</h3>\r\n                <PlayButton parentToChild2={data}/>\r\n            </View>\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}