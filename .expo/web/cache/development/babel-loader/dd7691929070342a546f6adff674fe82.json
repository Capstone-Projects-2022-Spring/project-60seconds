{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { Audio } from 'expo-av';\nimport * as React from 'react';\nimport Box from \"@mui/material/Box\";\nimport Container from \"@mui/material/Container\";\nimport { Recording } from 'expo-av/build/Audio';\nimport { StatusBar } from 'expo-status-bar';\nimport axios from 'axios';\nimport { duration } from '@mui/material';\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\naxios.defaults.withCredentials = true;\nexport default function recorder() {\n  var _React$useState = React.useState(),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      recording = _React$useState2[0],\n      setRecording = _React$useState2[1];\n\n  var _React$useState3 = React.useState([]),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      recordings = _React$useState4[0],\n      setRecordings = _React$useState4[1];\n\n  function startRecording() {\n    var _await$Audio$Recordin, _recording;\n\n    return _regeneratorRuntime.async(function startRecording$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            console.log('Requesting permissions..');\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(Audio.requestPermissionsAsync());\n\n          case 4:\n            _context.next = 6;\n            return _regeneratorRuntime.awrap(Audio.setAudioModeAsync({\n              allowsRecordingIOS: true,\n              playsInSilentModeIOS: true\n            }));\n\n          case 6:\n            console.log('Starting recording..');\n            _context.next = 9;\n            return _regeneratorRuntime.awrap(Audio.Recording.createAsync(Audio.RECORDING_OPTIONS_PRESET_HIGH_QUALITY));\n\n          case 9:\n            _await$Audio$Recordin = _context.sent;\n            _recording = _await$Audio$Recordin.recording;\n            setRecording(_recording);\n            console.log('Recording started');\n            _context.next = 18;\n            break;\n\n          case 15:\n            _context.prev = 15;\n            _context.t0 = _context[\"catch\"](0);\n            console.error('Failed to start recording', _context.t0);\n\n          case 18:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 15]], Promise);\n  }\n\n  function sendToServer(recording, username) {\n    var fileName, blobToFile, audioURI, audioBlob, audioFile, uploadData, apiUploadPath;\n    return _regeneratorRuntime.async(function sendToServer$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            fileName = '60seconds-audio.mp3';\n\n            blobToFile = function blobToFile(blob, fileName) {\n              var file = new File([blob], fileName, {\n                type: blob.type\n              });\n              return file;\n            };\n\n            audioURI = recording.getURI();\n            _context2.next = 5;\n            return _regeneratorRuntime.awrap(fetch(audioURI).then(function (r) {\n              return r.blob();\n            }));\n\n          case 5:\n            audioBlob = _context2.sent;\n            audioFile = blobToFile(audioBlob, fileName);\n            uploadData = new FormData();\n            uploadData.append('username', username);\n            uploadData.append('audio', audioFile);\n            apiUploadPath = 'https://api.60seconds.io/api/upload';\n            axios.post(apiUploadPath, uploadData);\n\n          case 12:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function getUsername() {\n    return _regeneratorRuntime.async(function getUsername$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            axios.get('https://api.60seconds.io/api/user').then(function (response) {\n              username = response.data.username;\n            });\n            return _context3.abrupt(\"return\", username);\n\n          case 2:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function stopRecording() {\n    var updatedRecordings, _await$recording$crea, sound, status, failureCallback;\n\n    return _regeneratorRuntime.async(function stopRecording$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            failureCallback = function _failureCallback(error) {\n              console.error(\"Error generating audio file: \" + error);\n            };\n\n            updatedRecordings = _toConsumableArray(recordings);\n            console.log('Stopping recording..');\n            setRecording(undefined);\n            _context4.next = 6;\n            return _regeneratorRuntime.awrap(recording.stopAndUnloadAsync());\n\n          case 6:\n            _context4.next = 8;\n            return _regeneratorRuntime.awrap(recording.createNewLoadedSoundAsync());\n\n          case 8:\n            _await$recording$crea = _context4.sent;\n            sound = _await$recording$crea.sound;\n            status = _await$recording$crea.status;\n            recording.getStatusAsync().then(function (result) {\n              console.log(\"The duration is: \" + result.durationMillis);\n              updatedRecordings.push({\n                sound: sound,\n                duration: getDurationFormatted(result.durationMillis),\n                file: recording.getURI()\n              });\n            }).catch(failureCallback);\n            setRecordings(updatedRecordings);\n            _context4.t0 = sendToServer;\n            _context4.t1 = recording;\n            _context4.next = 17;\n            return _regeneratorRuntime.awrap(getUsername());\n\n          case 17:\n            _context4.t2 = _context4.sent;\n            (0, _context4.t0)(_context4.t1, _context4.t2);\n\n          case 19:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function getDurationFormatted(millis) {\n    console.log(\"FORMATTING...\" + millis);\n    var minutes = millis / 1000 / 60;\n    var minutesDisplay = Math.floor(minutes);\n    var seconds = Math.round((minutes - minutesDisplay) * 60);\n    var secondsDisplay = seconds < 10 ? \"0\" + seconds : seconds;\n    var formattedDuration = minutesDisplay + \":\" + secondsDisplay;\n    return formattedDuration;\n  }\n\n  function getRecordingLines() {\n    return recordings.map(function (recordingLine, index) {\n      return _jsxs(View, {\n        style: StyleSheet.row,\n        children: [_jsxs(Text, {\n          style: styles.fill,\n          children: [\"Recording \", index + 1, \" - \", recordingLine.duration]\n        }), _jsx(Button, {\n          style: styles.button,\n          onPress: function onPress() {\n            return recordingLine.sound.replayAsync();\n          },\n          title: \"Play\"\n        })]\n      }, index);\n    });\n  }\n\n  return _jsx(Container, {\n    component: \"main\",\n    maxWidth: \"sm\",\n    children: _jsxs(Box, {\n      sx: {\n        marginTop: 8,\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\"\n      },\n      children: [_jsx(Button, {\n        title: recording ? 'Stop Recording' : 'Start Recording',\n        onPress: recording ? stopRecording : startRecording,\n        type: \"submit\",\n        fullWidth: true,\n        variant: \"contained\",\n        sx: {\n          mt: 3,\n          mb: 2\n        }\n      }), getRecordingLines()]\n    })\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  row: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  fill: {\n    flex: 1,\n    margin: 1\n  },\n  button: {\n    margin: 16\n  }\n});","map":{"version":3,"sources":["/home/zack/Desktop/60Seconds/frontend1/project-60seconds/components/recorder.js"],"names":["Audio","React","Box","Container","Recording","StatusBar","axios","duration","defaults","withCredentials","recorder","useState","recording","setRecording","recordings","setRecordings","startRecording","console","log","requestPermissionsAsync","setAudioModeAsync","allowsRecordingIOS","playsInSilentModeIOS","createAsync","RECORDING_OPTIONS_PRESET_HIGH_QUALITY","error","sendToServer","username","fileName","blobToFile","blob","file","File","type","audioURI","getURI","fetch","then","r","audioBlob","audioFile","uploadData","FormData","append","apiUploadPath","post","getUsername","get","response","data","stopRecording","failureCallback","updatedRecordings","undefined","stopAndUnloadAsync","createNewLoadedSoundAsync","sound","status","getStatusAsync","result","durationMillis","push","getDurationFormatted","catch","millis","minutes","minutesDisplay","Math","floor","seconds","round","secondsDisplay","formattedDuration","getRecordingLines","map","recordingLine","index","StyleSheet","row","styles","fill","button","replayAsync","marginTop","display","flexDirection","alignItems","mt","mb","create","container","flex","backgroundColor","justifyContent","margin"],"mappings":"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","sourcesContent":["import { Button, StyleSheet, Text, View } from 'react-native';\nimport { Audio } from 'expo-av';\nimport * as React from 'react';\nimport Box from \"@mui/material/Box\";\nimport Container from \"@mui/material/Container\";\nimport { Recording } from 'expo-av/build/Audio';\nimport { StatusBar } from 'expo-status-bar';\n\nimport axios from 'axios';\nimport { duration } from '@mui/material';\n\naxios.defaults.withCredentials = true;\n\nexport default function recorder() {\n\n\tconst [recording, setRecording] = React.useState();\n\tconst [recordings, setRecordings] = React.useState([]);\n\n\tasync function startRecording() {\n\t\ttry {\n\t\t\tconsole.log('Requesting permissions..');\n\t\t\tawait Audio.requestPermissionsAsync();\n\t\t\tawait Audio.setAudioModeAsync({\n\t\t\t\tallowsRecordingIOS: true,\n\t\t\t\tplaysInSilentModeIOS: true,\n\t\t\t});\n\t\t\tconsole.log('Starting recording..');\n\t\t\tconst { recording } = await Audio.Recording.createAsync(\n\t\t\t\tAudio.RECORDING_OPTIONS_PRESET_HIGH_QUALITY\n\t\t\t);\n\t\t\tsetRecording(recording);\n\t\t\tconsole.log('Recording started');\n\t\t} catch (err) {\n\t\t\tconsole.error('Failed to start recording', err);\n\t\t}\n\t}\n\n\tasync function sendToServer(recording, username) {\n\t\tconst fileName = '60seconds-audio.mp3'\n\n\t\t// SO snippet\n\t\tlet blobToFile = function (blob, fileName) {\n\t\t\tconst file = new File([blob], fileName, { type: blob.type });\n\n\t\t\treturn file;\n\t\t}\n\n\t\t// Get URI of the recording\n\t\tlet audioURI = recording.getURI();\n\n\t\t// Convert URI to blob\n\t\tlet audioBlob = await fetch(audioURI).then(r => r.blob());\n\n\t\t// Convert blob to file\n\t\tlet audioFile = blobToFile(audioBlob, fileName);\n\n\t\tlet uploadData = new FormData();\n\t\tuploadData.append('username', username);\n\t\tuploadData.append('audio', audioFile);\n\n\t\tlet apiUploadPath = 'https://api.60seconds.io/api/upload';\n\t\taxios.post(apiUploadPath, uploadData);\n\t}\n\n\tasync function getUsername() {\n\t\taxios.get('https://api.60seconds.io/api/user').then(function(response) {\n      username = response.data.username;\n\t\t});\n\n\t\treturn username;\n\t}\n\n\tasync function stopRecording() {\n\n\t\tlet updatedRecordings = [...recordings];\n\n\t\tconsole.log('Stopping recording..');\n\t\tsetRecording(undefined);\n\t\tawait recording.stopAndUnloadAsync();\n\t\tconst { sound, status } = await recording.createNewLoadedSoundAsync();\n\n\t\trecording.getStatusAsync()\n\t\t\t.then(function (result) {\n\t\t\t\tconsole.log(\"The duration is: \" + result.durationMillis)\n\t\t\t\tupdatedRecordings.push({\n\t\t\t\t\tsound: sound,\n\t\t\t\t\tduration: getDurationFormatted(result.durationMillis),\n\t\t\t\t\tfile: recording.getURI()\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(failureCallback);\n\n\t\tfunction failureCallback(error) {\n\t\t\tconsole.error(\"Error generating audio file: \" + error);\n\t\t}\n\n\n\n\t\tsetRecordings(updatedRecordings);\n\n\t\t// Send to server\n\t\tsendToServer(recording, await getUsername());\n\n\t}\n\n\n\n\tfunction getDurationFormatted(millis) {\n\t\tconsole.log(\"FORMATTING...\" + millis);\n\t\tconst minutes = millis / 1000 / 60;\n\t\tconst minutesDisplay = Math.floor(minutes);\n\t\tconst seconds = Math.round((minutes - minutesDisplay) * 60);\n\t\tconst secondsDisplay = seconds < 10 ? `0${seconds}` : seconds;\n\t\tvar formattedDuration = `${minutesDisplay}:${secondsDisplay}`;\n\t\treturn formattedDuration;\n\t}\n\n\tfunction getRecordingLines() {\n\t\treturn recordings.map((recordingLine, index) => {\n\t\t\treturn (\n\t\t\t\t<View key={index} style={StyleSheet.row}>\n\t\t\t\t\t<Text style={styles.fill}>Recording {index + 1} - {recordingLine.duration}</Text>\n\t\t\t\t\t<Button style={styles.button} onPress={() => recordingLine.sound.replayAsync()} title=\"Play\"></Button>\n\t\t\t\t</View>\n\t\t\t);\n\t\t});\n\t}\n\n\treturn (\n\t\t<Container component=\"main\" maxWidth=\"sm\">\n\t\t\t<Box\n\t\t\t\tsx={{\n\t\t\t\t\tmarginTop: 8,\n\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\tflexDirection: \"column\",\n\t\t\t\t\talignItems: \"center\",\n\t\t\t\t}}>\n\t\t\t\t<Button\n\t\t\t\t\ttitle={recording ? 'Stop Recording' : 'Start Recording'}\n\t\t\t\t\tonPress={recording ? stopRecording : startRecording}\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tfullWidth\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tsx={{ mt: 3, mb: 2 }}\n\t\t\t\t/>\n\t\t\t\t{getRecordingLines()}\n\t\t\t</Box>\n\t\t</Container>\n\n\t);\n}\n\nconst styles = StyleSheet.create({\n\tcontainer: {\n\t\tflex: 1,\n\t\tbackgroundColor: '#fff',\n\t\talignItems: 'center',\n\t\tjustifyContent: 'center',\n\t},\n\trow: {\n\t\tflexDirection: 'row',\n\t\talignItems: 'center',\n\t\tjustifyContent: 'center',\n\t},\n\tfill: {\n\t\tflex: 1,\n\t\tmargin: 1,\n\t},\n\tbutton: {\n\t\tmargin: 16,\n\t}\n});\n"]},"metadata":{},"sourceType":"module"}