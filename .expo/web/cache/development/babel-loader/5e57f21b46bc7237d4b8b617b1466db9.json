{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport styles from \"../App.style\";\nimport axios from \"axios\";\nimport PlayButton from \"./playbutton\";\nimport { Redirect } from \"react-router-dom\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\naxios.defaults.withCredentials = true;\nexport default function Day(_ref) {\n  var parentToChild = _ref.parentToChild;\n  axios.get('https://api.60seconds.io/api/user').then(function (response) {\n    console.log(response.data.username);\n  }).catch(function (error) {});\n  var selectedDateString = parentToChild.getFullYear() + '-' + (parentToChild.getMonth() + 1) + '-' + parentToChild.getDate();\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var parentToChild2 = function parentToChild2(linkToSet) {\n    setData(linkToSet.toString());\n  };\n\n  axios.get('https://api.60seconds.io/api/get_links', {\n    params: {\n      username: \"testUsername\",\n      date: selectedDateString\n    }\n  }).then(function (response) {\n    if (response.data.length == 0) {\n      parentToChild2('No recordings made this day.');\n    } else {\n      parentToChild2(response.data[response.data.length - 1].link);\n    }\n  }).catch(function (error) {\n    console.log(error);\n  });\n  return _jsx(\"div\", {\n    className: \"dayBox\",\n    children: _jsxs(View, {\n      style: styles.dayBox,\n      children: [_jsx(\"h3\", {\n        children: parentToChild.toDateString()\n      }), _jsx(PlayButton, {\n        parentToChild2: data\n      })]\n    })\n  });\n}","map":{"version":3,"sources":["/home/zack/Desktop/60Seconds/frontend1/project-60seconds/components/day.js"],"names":["React","useState","styles","axios","PlayButton","Redirect","defaults","withCredentials","Day","parentToChild","get","then","response","console","log","data","username","catch","error","selectedDateString","getFullYear","getMonth","getDate","setData","parentToChild2","linkToSet","toString","params","date","length","link","dayBox","toDateString"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;;AAEA,OAAOC,MAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP;AAEA,SAASC,QAAT,QAAyB,kBAAzB;;;AAEAF,KAAK,CAACG,QAAN,CAAeC,eAAf,GAAiC,IAAjC;AAEA,eAAe,SAASC,GAAT,OAA6B;AAAA,MAAfC,aAAe,QAAfA,aAAe;AACxCN,EAAAA,KAAK,CAACO,GAAN,CAAU,mCAAV,EAA+CC,IAA/C,CAAoD,UAASC,QAAT,EAAmB;AACrEC,IAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAAT,CAAcC,QAA1B;AAED,GAHD,EAGGC,KAHH,CAGS,UAASC,KAAT,EAAgB,CAExB,CALD;AASA,MAAIC,kBAAkB,GAAGV,aAAa,CAACW,WAAd,KAA8B,GAA9B,IAAqCX,aAAa,CAACY,QAAd,KAAyB,CAA9D,IAAmE,GAAnE,GAAyEZ,aAAa,CAACa,OAAd,EAAlG;;AAEA,kBAAwBrB,QAAQ,CAAC,EAAD,CAAhC;AAAA;AAAA,MAAOc,IAAP;AAAA,MAAaQ,OAAb;;AAEA,MAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACC,SAAD,EAAe;AACpCF,IAAAA,OAAO,CAACE,SAAS,CAACC,QAAV,EAAD,CAAP;AACD,GAFD;;AAKAvB,EAAAA,KAAK,CAACO,GAAN,CAAU,wCAAV,EAAoD;AAChDiB,IAAAA,MAAM,EAAE;AACNX,MAAAA,QAAQ,EAAE,cADJ;AAENY,MAAAA,IAAI,EAAET;AAFA;AADwC,GAApD,EAMGR,IANH,CAMQ,UAAUC,QAAV,EAAoB;AAExB,QAAGA,QAAQ,CAACG,IAAT,CAAcc,MAAd,IAAwB,CAA3B,EAA6B;AAC3BL,MAAAA,cAAc,CAAC,8BAAD,CAAd;AACD,KAFD,MAEO;AAELA,MAAAA,cAAc,CAACZ,QAAQ,CAACG,IAAT,CAAcH,QAAQ,CAACG,IAAT,CAAcc,MAAd,GAAuB,CAArC,EAAwCC,IAAzC,CAAd;AACD;AACF,GAdH,EAeGb,KAfH,CAeS,UAAUC,KAAV,EAAiB;AACtBL,IAAAA,OAAO,CAACC,GAAR,CAAYI,KAAZ;AACD,GAjBH;AAmBA,SACI;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA,cACI,MAAC,IAAD;AAAM,MAAA,KAAK,EAAEhB,MAAM,CAAC6B,MAApB;AAAA,iBACI;AAAA,kBAAKtB,aAAa,CAACuB,YAAd;AAAL,QADJ,EAEI,KAAC,UAAD;AAAY,QAAA,cAAc,EAAEjB;AAA5B,QAFJ;AAAA;AADJ,IADJ;AAQH","sourcesContent":["import React, {useState} from \"react\";\nimport { View } from 'react-native';\nimport styles from '../App.style';\nimport axios from \"axios\";\nimport PlayButton from './playbutton';\n\nimport { Redirect } from \"react-router-dom\";\n\naxios.defaults.withCredentials = true;\n\nexport default function Day({parentToChild}){\n    axios.get('https://api.60seconds.io/api/user').then(function(response) {\n      console.log(response.data.username);\n\n    }).catch(function(error) {\n\n    });\n\n\n\n    let selectedDateString = parentToChild.getFullYear() + '-' + (parentToChild.getMonth()+1) + '-' + parentToChild.getDate();\n    //console.log(selectedDateString);\n    const [data, setData] = useState('');\n\n    const parentToChild2 = (linkToSet) => {\n      setData(linkToSet.toString());\n    }\n\n    //querying backend for links based on day.\n    axios.get('https://api.60seconds.io/api/get_links', {\n        params: {\n          username: \"testUsername\",\n          date: selectedDateString\n        }\n      })\n      .then(function (response) {\n        //console.log(response.data);\n        if(response.data.length == 0){\n          parentToChild2('No recordings made this day.');\n        } else {\n          //for milestone demo 2, it plays the most recent recording returned from the query\n          parentToChild2(response.data[response.data.length - 1].link);\n        }\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n\n    return(\n        <div className=\"dayBox\">\n            <View style={styles.dayBox}>\n                <h3>{parentToChild.toDateString()}</h3>\n                <PlayButton parentToChild2={data}/>\n            </View>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}