{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}import*as React from\"react\";import Button from\"@mui/material/Button\";import CssBaseline from\"@mui/material/CssBaseline\";import TextField from\"@mui/material/TextField\";import FormControlLabel from\"@mui/material/FormControlLabel\";import Checkbox from\"@mui/material/Checkbox\";import Link from\"@mui/material/Link\";import Grid from\"@mui/material/Grid\";import Box from\"@mui/material/Box\";import Typography from\"@mui/material/Typography\";import Container from\"@mui/material/Container\";import{createTheme,ThemeProvider}from\"@mui/material/styles\";import GoogleLogin from\"react-google-login\";import Register from\"./register\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var clientId=\"889429585915-hma88iu6bd4tk7qfmtj79b94nf6r9gp5.apps.googleusercontent.com\";function Copyright(props){return _jsxs(Typography,_objectSpread(_objectSpread({variant:\"body2\",color:\"text.secondary\",align:\"center\"},props),{},{children:[\"Copyright © \",_jsx(Link,{color:\"inherit\",href:\"https://mui.com/\",children:\"60 Seconds\"}),\" \",new Date().getFullYear(),\".\"]}));}var theme=createTheme();export default function Login(props){var navigate=useNavigate();var handleSubmit=function handleSubmit(event){event.preventDefault();var data=new FormData(event.currentTarget);console.log({username:data.get(\"username\"),password:data.get(\"password\")});axios.post(\"https://api.60seconds.io/api/login\",{username:data.get(\"username\"),password:data.get(\"password\")}).then(function(response){console.log(response);props.changeLoginToTrue();navigate(\"/Profile\",{state:{username:data.get(\"username\")}});}).catch(function(error){console.log(error);alert(\"Error: \"+error);});};var onSuccess=function onSuccess(res){console.log(\"[Login in Success] currentUser: \",res.profileObj);};var onFailure=function onFailure(res){console.log(\"[Login failed] res: \",res);};return _jsx(ThemeProvider,{theme:theme,children:_jsxs(Container,{component:\"main\",maxWidth:\"xs\",children:[_jsx(CssBaseline,{}),_jsxs(Box,{sx:{marginTop:8,display:\"flex\",flexDirection:\"column\",alignItems:\"center\"},children:[_jsx(Typography,{component:\"h1\",variant:\"h4\",children:\"Login\"}),_jsxs(Box,{component:\"form\",onSubmit:handleSubmit,noValidate:true,sx:{mt:1},children:[_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,id:\"username\",label:\"Username\",name:\"username\",autoComplete:\"username\",autoFocus:true}),_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,name:\"password\",label:\"Password\",type:\"password\",id:\"password\",autoComplete:\"current-password\"}),_jsx(FormControlLabel,{control:_jsx(Checkbox,{value:\"remember\",color:\"primary\"}),label:\"Remember me\"}),_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",sx:{mt:3,mb:2},children:\"Login\"})]}),_jsx(\"hr\",{style:{color:\"black\",width:300}}),_jsx(\"h4\",{children:\" Don't have an account?\"}),_jsx(Link,{underline:\"none\",href:\"/Register\",children:_jsx(Button,{variant:\"outlined\",style:{width:180,height:40},children:\"Register Here\"})}),_jsx(\"h5\",{children:\"OR\"}),_jsx(GoogleLogin,{clientId:clientId,onSuccess:onSuccess,onFailure:onFailure,buttonText:\"Login With Google\"})]}),_jsx(Copyright,{sx:{mt:8,mb:4}})]})});}","map":{"version":3,"sources":["/home/ubuntu/project-60seconds/components/login.js"],"names":["React","Button","CssBaseline","TextField","FormControlLabel","Checkbox","Link","Grid","Box","Typography","Container","createTheme","ThemeProvider","GoogleLogin","Register","axios","useNavigate","clientId","Copyright","props","Date","getFullYear","theme","Login","navigate","handleSubmit","event","preventDefault","data","FormData","currentTarget","console","log","username","get","password","post","then","response","changeLoginToTrue","state","catch","error","alert","onSuccess","res","profileObj","onFailure","marginTop","display","flexDirection","alignItems","mt","mb","color","width","height"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport Button from \"@mui/material/Button\";\nimport CssBaseline from \"@mui/material/CssBaseline\";\nimport TextField from \"@mui/material/TextField\";\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\nimport Checkbox from \"@mui/material/Checkbox\";\nimport Link from \"@mui/material/Link\";\nimport Grid from \"@mui/material/Grid\";\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nimport Container from \"@mui/material/Container\";\nimport { createTheme, ThemeProvider } from \"@mui/material/styles\";\nimport GoogleLogin from \"react-google-login\";\nimport Register from \"./register\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst clientId =\n\t\"889429585915-hma88iu6bd4tk7qfmtj79b94nf6r9gp5.apps.googleusercontent.com\";\n\nfunction Copyright(props) {\n\treturn (\n\t\t<Typography\n\t\t\tvariant=\"body2\"\n\t\t\tcolor=\"text.secondary\"\n\t\t\talign=\"center\"\n\t\t\t{...props}\n\t\t>\n\t\t\t{\"Copyright © \"}\n\t\t\t<Link color=\"inherit\" href=\"https://mui.com/\">\n\t\t\t\t60 Seconds\n\t\t\t</Link>{\" \"}\n\t\t\t{new Date().getFullYear()}\n\t\t\t{\".\"}\n\t\t</Typography>\n\t);\n}\n\nconst theme = createTheme();\n\nexport default function Login(props) {\n\tconst navigate = useNavigate();\n\tconst handleSubmit = (event) => {\n\t\tevent.preventDefault();\n\t\tconst data = new FormData(event.currentTarget);\n\t\tconsole.log({\n\t\t\tusername: data.get(\"username\"),\n\t\t\tpassword: data.get(\"password\"),\n\t\t});\n\n\t\taxios\n\t\t\t.post(\"https://api.60seconds.io/api/login\", {\n\t\t\t\tusername: data.get(\"username\"),\n\t\t\t\tpassword: data.get(\"password\"),\n\t\t\t})\n\t\t\t.then(function (response) {\n\t\t\t\tconsole.log(response);\n\t\t\t\tprops.changeLoginToTrue();\n\t\t\t\tnavigate(\"/Profile\", {\n\t\t\t\t\tstate: { username: data.get(\"username\") },\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(function (error) {\n\t\t\t\tconsole.log(error);\n\t\t\t\talert(\"Error: \" + error);\n\t\t\t});\n\t};\n\n\tconst onSuccess = (res) => {\n\t\tconsole.log(\"[Login in Success] currentUser: \", res.profileObj);\n\t\t// refreshTokenSetup(res);\n\t};\n\tconst onFailure = (res) => {\n\t\tconsole.log(\"[Login failed] res: \", res);\n\t};\n\n\treturn (\n\t\t<ThemeProvider theme={theme}>\n\t\t\t<Container component=\"main\" maxWidth=\"xs\">\n\t\t\t\t<CssBaseline />\n\t\t\t\t<Box\n\t\t\t\t\tsx={{\n\t\t\t\t\t\tmarginTop: 8,\n\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\tflexDirection: \"column\",\n\t\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Typography component=\"h1\" variant=\"h4\">\n\t\t\t\t\t\tLogin\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tcomponent=\"form\"\n\t\t\t\t\t\tonSubmit={handleSubmit}\n\t\t\t\t\t\tnoValidate\n\t\t\t\t\t\tsx={{ mt: 1 }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tid=\"username\"\n\t\t\t\t\t\t\tlabel=\"Username\"\n\t\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\t\tautoComplete=\"username\"\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\tautoComplete=\"current-password\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t<Checkbox value=\"remember\" color=\"primary\" />\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlabel=\"Remember me\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tsx={{ mt: 3, mb: 2 }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tLogin\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<hr style={{ color: \"black\", width: 300 }} />\n\t\t\t\t\t<h4> Don't have an account?</h4>\n\t\t\t\t\t<Link underline=\"none\" href=\"/Register\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tstyle={{ width: 180, height: 40 }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tRegister Here\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Link>\n\t\t\t\t\t<h5>OR</h5>\n\t\t\t\t\t<GoogleLogin\n\t\t\t\t\t\tclientId={clientId}\n\t\t\t\t\t\tonSuccess={onSuccess}\n\t\t\t\t\t\tonFailure={onFailure}\n\t\t\t\t\t\tbuttonText=\"Login With Google\"\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\t\t\t\t<Copyright sx={{ mt: 8, mb: 4 }} />\n\t\t\t</Container>\n\t\t</ThemeProvider>\n\t);\n}\n"]},"metadata":{},"sourceType":"module"}