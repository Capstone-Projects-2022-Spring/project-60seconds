{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useState}from\"react\";import View from\"react-native-web/dist/exports/View\";import styles from\"../App.style\";import axios from\"axios\";import PlayButton from\"./playbutton\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";axios.defaults.withCredentials=true;export default function Day(_ref){var parentToChild=_ref.parentToChild;var selectedDateString=parentToChild.getFullYear()+'-'+(parentToChild.getMonth()+1)+'-'+parentToChild.getDate();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var parentToChild2=function parentToChild2(linkToSet){setData(linkToSet.toString());};axios.get('https://api.60seconds.io/api/get_links',{params:{username:\"testUsername\",date:selectedDateString}}).then(function(response){if(response.data.length==0){parentToChild2('No recordings made this day.');}else{parentToChild2(response.data[response.data.length-1].link);}}).catch(function(error){console.log(error);});return _jsx(\"div\",{className:\"dayBox\",children:_jsxs(View,{style:styles.dayBox,children:[_jsx(\"h3\",{children:parentToChild.toDateString()}),_jsx(PlayButton,{parentToChild2:data})]})});}","map":{"version":3,"sources":["/home/ubuntu/project-60seconds/components/day.js"],"names":["React","useState","styles","axios","PlayButton","defaults","withCredentials","Day","parentToChild","selectedDateString","getFullYear","getMonth","getDate","data","setData","parentToChild2","linkToSet","toString","get","params","username","date","then","response","length","link","catch","error","console","log","dayBox","toDateString"],"mappings":"iEAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,C,qDAEA,MAAOC,CAAAA,MAAP,oBACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,UAAP,oB,wFAEAD,KAAK,CAACE,QAAN,CAAeC,eAAf,CAAiC,IAAjC,CAEA,cAAe,SAASC,CAAAA,GAAT,MAA6B,IAAfC,CAAAA,aAAe,MAAfA,aAAe,CAExC,GAAIC,CAAAA,kBAAkB,CAAGD,aAAa,CAACE,WAAd,GAA8B,GAA9B,EAAqCF,aAAa,CAACG,QAAd,GAAyB,CAA9D,EAAmE,GAAnE,CAAyEH,aAAa,CAACI,OAAd,EAAlG,CAEA,cAAwBX,QAAQ,CAAC,EAAD,CAAhC,wCAAOY,IAAP,eAAaC,OAAb,eAEA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,SAAD,CAAe,CACpCF,OAAO,CAACE,SAAS,CAACC,QAAV,EAAD,CAAP,CACH,CAFC,CAKAd,KAAK,CAACe,GAAN,CAAU,wCAAV,CAAoD,CAChDC,MAAM,CAAE,CACNC,QAAQ,CAAE,cADJ,CAENC,IAAI,CAAEZ,kBAFA,CADwC,CAApD,EAMGa,IANH,CAMQ,SAAUC,QAAV,CAAoB,CAExB,GAAGA,QAAQ,CAACV,IAAT,CAAcW,MAAd,EAAwB,CAA3B,CAA6B,CAC3BT,cAAc,CAAC,8BAAD,CAAd,CACD,CAFD,IAEO,CAELA,cAAc,CAACQ,QAAQ,CAACV,IAAT,CAAcU,QAAQ,CAACV,IAAT,CAAcW,MAAd,CAAuB,CAArC,EAAwCC,IAAzC,CAAd,CACD,CACF,CAdH,EAeGC,KAfH,CAeS,SAAUC,KAAV,CAAiB,CACtBC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CAjBH,EAmBA,MACI,aAAK,SAAS,CAAC,QAAf,UACI,MAAC,IAAD,EAAM,KAAK,CAAEzB,MAAM,CAAC4B,MAApB,WACI,oBAAKtB,aAAa,CAACuB,YAAd,EAAL,EADJ,CAEI,KAAC,UAAD,EAAY,cAAc,CAAElB,IAA5B,EAFJ,GADJ,EADJ,CAQH","sourcesContent":["import React, {useState} from \"react\";\nimport { View } from 'react-native';\nimport styles from '../App.style';\nimport axios from \"axios\";\nimport PlayButton from './playbutton';\n\naxios.defaults.withCredentials = true;\n\nexport default function Day({parentToChild}){\n    \n    let selectedDateString = parentToChild.getFullYear() + '-' + (parentToChild.getMonth()+1) + '-' + parentToChild.getDate();\n    //console.log(selectedDateString);\n    const [data, setData] = useState('');\n\n    const parentToChild2 = (linkToSet) => {\n      setData(linkToSet.toString());\n  }\n\n    //querying backend for links based on day.\n    axios.get('https://api.60seconds.io/api/get_links', {\n        params: {\n          username: \"testUsername\",\n          date: selectedDateString\n        }\n      })\n      .then(function (response) {\n        //console.log(response.data);\n        if(response.data.length == 0){\n          parentToChild2('No recordings made this day.');\n        } else {\n          //for milestone demo 2, it plays the most recent recording returned from the query\n          parentToChild2(response.data[response.data.length - 1].link);\n        }\n      }) \n      .catch(function (error) {\n        console.log(error);\n      });\n\n    return(\n        <div className=\"dayBox\">\n            <View style={styles.dayBox}>\n                <h3>{parentToChild.toDateString()}</h3> \n                <PlayButton parentToChild2={data}/>\n            </View>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}